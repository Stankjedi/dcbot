# [공유] @디시봇: 내 댓글에 AI 답글 자동작성 크롬 확장 (특이점이 온다)

※ DCInside 공식 기능이 아닙니다. 개인 프로젝트/오픈소스이며, 사용 시 사이트 정책/법령을 준수해 주세요.  
※ **API 키/토큰은 글/댓글/스크린샷에 절대 올리지 마세요.**

---

## 1) 이게 뭐에요?

디시 게시글에서 **내가 작성한 댓글**에 `@디시봇` 트리거를 넣으면,

- AI로 답변을 생성하고
- 해당 댓글의 **답글(하위댓글) 입력창**을 열어서
- **기본 120자(최대 400자) 이내**로 자동으로 넣어줍니다.
- (옵션) 캡차가 없을 때만 “등록” 버튼까지 자동으로 눌러줄 수 있어요.

기본값으로 **내 댓글에서만 트리거가 동작**해서, 다른 사람이 `@디시봇`을 남겨도 내 브라우저에서는 실행되지 않게 막아놨습니다.

---

## 2) 설치 방법 (Chrome, 개발자 모드)

1. GitHub에서 소스를 받거나 릴리즈 zip을 받습니다.
   - 소스/릴리즈 링크: 아래 “링크” 참고(글 올릴 때 채워 넣기)
2. `chrome://extensions` 접속
3. 우측 상단 “개발자 모드” ON
4. “압축해제된 확장 프로그램을 로드” 클릭
5. 빌드된 폴더를 선택합니다.
   - 소스에서 직접 빌드했다면: `.output/chrome-mv3`

> 소스 빌드가 필요하면 README의 “설치/빌드” 섹션대로 `pnpm install` → `pnpm build` 하면 됩니다.

---

## 3) 옵션 설정(필수)

확장 아이콘 → “옵션 열기”에서 설정합니다.

### 공통(추천)

- **내 댓글에서만 트리거 허용**: ON (기본값/권장)
- **최대 답변 글자수**: 기본 120, 최대 400 (디시 댓글 제한 때문에 400 이상은 의미 없음)

### Provider(답변 생성 방식) 3가지

#### A) Gemini API 직접 호출 (`google_gemini`)

- 장점: 설정 쉬움
- 단점: 키를 브라우저(확장)에 저장해야 함(BYOK)

옵션에서 `google_gemini` 선택 → “브라우저 키 저장 허용” 켬 → 키 입력 → “API 테스트”

#### B) OpenAI 호환 API 직접 호출 (`openai_direct`)

- 장점: OpenAI/호환 서비스 사용 가능
- 단점: 키를 브라우저(확장)에 저장해야 함(BYOK)

옵션에서 `openai_direct` 선택 → Base URL/Type 설정 → “브라우저 키 저장 허용” 켬 → 키 입력 → “API 테스트”

#### C) 로컬 프록시 (`local_proxy`, 권장)

- 장점: 키를 브라우저에 저장하지 않음(로컬 서버 환경변수로 보관)
- 단점: 로컬 서버를 한 번 띄워야 함

옵션에서 `local_proxy` 선택 → `http://127.0.0.1:8787` + 토큰 설정 → “Test local proxy”  
로컬 프록시 템플릿은 레포의 `server/index.mjs`에 포함되어 있어요.

---

## 4) 사용 방법

1. 게시글 댓글에 이렇게 씁니다(내 댓글이어야 함):
   - `@디시봇 질문`
   - 예: `@디시봇 이거 한줄 요약해줘`
2. 댓글에 작은 UI가 붙고, 답변이 생성됩니다.
3. 설정에 따라:
   - 자동 등록 OFF면 `삽입`을 눌러서 답글창에 넣습니다.
   - 자동 등록 ON이면(캡차가 없을 때만) 등록까지 시도합니다.

### 간단 명령어

- `@디시봇 help` : 사용법 출력
- `@디시봇 검색: 키워드` : 관련 글 제목만
- `@디시봇 요약` / `@디시봇 summary` : 현재 글 요약(가능한 경우)

---

## 5) 주의/제한

- 디시 댓글 입력 제한 때문에 **답변은 항상 400자 이하**로 잘립니다.
- 답글에 링크(URL)는 첨부하지 않습니다.
- “자동등록방지(캡차)”가 뜨는 경우엔 자동 등록을 하지 않습니다(직접 입력해야 함).
- 같은 트리거 댓글에 **이미 내 답글이 달려 있으면** 반복 실행을 막습니다.
- 답변이 너무 정석적이면, 옵션의 **인스트럭션(QA)**에서 “추가 지침”을 수정하거나 레포의 `src/lib/llm/prompt.ts`를 수정할 수 있어요.

---

## 6) 링크(글 올릴 때 채워 넣기)

- GitHub: `<REPO_URL>`
- 릴리즈(다운로드): `<RELEASES_URL>`
